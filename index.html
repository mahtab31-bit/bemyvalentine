<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For You ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;500&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
/* GENERAL RESET */
body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  height: 100vh;
  background: #020617;
  overflow: hidden; /* Strict no-scroll */
}

/* SCREENS */
.screen {
  position: fixed;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  padding: 20px;
  text-align: center;
  z-index: 10;
}

.screen.active {
  display: flex;
}

/* UNIVERSE BACKGROUND */
.universe {
  background:
    radial-gradient(circle at 20% 30%, rgba(244,114,182,0.15), transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(168,85,247,0.15), transparent 40%),
    radial-gradient(circle at top, #0f172a, #020617);
  color: #f8fafc;
}

/* CARD */
.card {
  max-width: 420px;
  width: 100%;
  background: rgba(255,255,255,0.08);
  border-radius: 24px;
  padding: 24px;
  backdrop-filter: blur(10px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.25);
  position: relative;
  z-index: 20;
}

.intro .card { background: white; color: #2d2d2d; }

h1 { font-family: 'Playfair Display', serif; font-size: 24px; margin-bottom: 12px; }
p { font-size: 14px; line-height: 1.5; opacity: 0.95; }

button {
  margin-top: 15px;
  padding: 12px 24px;
  border-radius: 999px;
  border: none;
  font-size: 14px;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.intro button { background: #ff4d6d; color: white; }
.universe button { background: #f472b6; color: #020617; font-weight: 600; }

/* ORBIT SYSTEM - FIXED TO VIEWPORT */
.orbit { 
  position: relative; 
  width: 100%; 
  height: 45vh; /* Fixed height to prevent vertical scrolling */
  margin: 10px auto; 
  display: flex;
  justify-content: center;
  align-items: center;
}

.orbit-center {
  font-family: 'Playfair Display', serif; 
  font-size: 16px; 
  color: #f472b6;
  z-index: 5;
}

.planet {
  position: absolute; 
  width: 60px; 
  height: 60px;
  border-radius: 50%; 
  overflow: hidden;
  box-shadow: 0 0 15px rgba(244,114,182,0.4); 
  border: 2px solid rgba(255,255,255,0.4);
}
.planet img { width: 100%; height: 100%; object-fit: cover; }

/* Mobile Adjustments */
@media (max-width: 480px) {
  .planet { width: 50px; height: 50px; }
  h1 { font-size: 20px; }
}

/* Controlled Orbit Distances using vh/vw to ensure they stay on screen */
.p1 { animation: orb 12s linear infinite; --d: 18vw; }
.p2 { animation: orb 18s linear infinite reverse; --d: 22vw; }
.p3 { animation: orb 25s linear infinite; --d: 28vw; }
.p4 { animation: orb 15s linear infinite; --d: 14vw; --delay: -2s; }
.p5 { animation: orb 22s linear infinite reverse; --d: 32vw; --delay: -5s; }
.p6 { animation: orb 20s linear infinite; --d: 10vw; --delay: -10s; }
.p7 { animation: orb 28s linear infinite reverse; --d: 36vw; --delay: -3s; }
.p8 { animation: orb 14s linear infinite; --d: 25vw; --delay: -8s; }
.p9 { animation: orb 32s linear infinite reverse; --d: 12vw; --delay: -12s; }

/* Keep distance responsive on vertical screens */
@media (orientation: portrait) {
  .p1 { --d: 12vh; } .p2 { --d: 15vh; } .p3 { --d: 18vh; }
  .p4 { --d: 21vh; } .p5 { --d: 24vh; } .p6 { --d: 9vh; }
  .p7 { --d: 11vh; } .p8 { --d: 13vh; } .p9 { --d: 16vh; }
}

@keyframes orb {
  from { transform: rotate(0deg) translateX(var(--d)) rotate(0deg); }
  to { transform: rotate(360deg) translateX(var(--d)) rotate(-360deg); }
}

/* FLOATING HEARTS */
.floating-heart {
  position: absolute; color: #ff4d6d; font-size: 24px;
  animation: floatUp 4s linear forwards; pointer-events: none; z-index: 100;
}
@keyframes floatUp {
  0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
  100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
}

.choices { display: flex; gap: 12px; justify-content: center; align-items: center; position: relative; min-height: 80px; }
#noBtn { position: relative; transition: all 0.2s ease; }
</style>
</head>
<body>

<audio id="bgMusic" loop preload="auto">
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<div class="screen intro active">
  <div class="card">
    <h1>Hi love ü§ç</h1>
    <div id="typewriter" style="min-height: 100px;"></div>
    <button id="continueBtn" style="display:none;" onclick="startUniverse()">Continue</button>
  </div>
</div>

<div class="screen universe">
  <div class="card">
    <h1>What are the odds?</h1>
    <p>Out of billions of people, infinite timelines,<br>and a thousand tiny decisions‚Ä¶<br>We still found each other.</p>
    <button onclick="go(1)">Enter the universe</button>
  </div>
</div>

<div class="screen universe">
  <div class="card" style="background: transparent; box-shadow: none; max-width: 95vw; padding: 10px;">
    <h1 style="margin: 0;">Our little universe</h1>
    <div class="orbit">
      <div class="orbit-center">You & Me ‚ú®</div>
      <div class="planet p1"><img src="WhatsApp Image 2026-02-13 at 12.21.42 PM.jpeg"></div>
      <div class="planet p2"><img src="WhatsApp Image 2026-02-13 at 12.21.42 PM (1).jpeg"></div>
      <div class="planet p3"><img src="WhatsApp Image 2026-02-13 at 12.21.42 PM (2).jpeg"></div>
      <div class="planet p4"><img src="WhatsApp Image 2026-02-13 at 12.21.43 PM.jpeg"></div>
      <div class="planet p5"><img src="WhatsApp Image 2026-02-13 at 12.21.43 PM (1).jpeg"></div>
      <div class="planet p6"><img src="WhatsApp Image 2026-02-13 at 12.21.43 PM (2).jpeg"></div>
      <div class="planet p7"><img src="WhatsApp Image 2026-02-13 at 12.21.44 PM.jpeg"></div>
      <div class="planet p8"><img src="WhatsApp Image 2026-02-13 at 12.21.44 PM (1).jpeg"></div>
      <div class="planet p9"><img src="WhatsApp Image 2026-02-13 at 12.21.44 PM (2).jpeg"></div>
    </div>
    <button onclick="go(2)">Keep going</button>
  </div>
</div>

<div class="screen universe">
  <div class="card">
    <h1>Infinite Realities</h1>
    <p>In one universe, we never met. In another, we stayed strangers.<br>But in <b>this one</b>, I'm yours.</p>
    <button onclick="go(3)">The best timeline</button>
  </div>
</div>

<div id="screen-final" class="screen universe">
  <div class="card" id="finalCard">
    <h1 id="final-heading">The final question</h1>
    <p>Will you be my Valentine? ‚ù§Ô∏è</p>
    <div class="choices" id="choiceArea">
      <button onclick="celebrate()">Yes</button>
      <button id="noBtn">No</button>
    </div>
    <p style="margin-top:10px; font-size:12px; opacity:0.7;">(Choose wisely.)</p>
  </div>
</div>

<script>
const text = ["I could have sent you a message.","Or bought a card.","But you know me.","I like building things.","","And if I can build something,","I can build something just for you.","","Out of everything I could have built‚Ä¶","I‚Äôm just glad I built this with you."];
let i = 0, line = 0;
const el = document.getElementById("typewriter");

function type() {
  if (line < text.length) {
    if (i < text[line].length) {
      el.innerHTML += text[line].charAt(i); i++;
      setTimeout(type, 40);
    } else {
      el.innerHTML += "<br>"; i = 0; line++;
      setTimeout(type, 600);
    }
  } else { document.getElementById("continueBtn").style.display = "inline-block"; }
}
type();

const screens = document.querySelectorAll('.screen');
let current = 0;
function go(n) {
  screens[current].classList.remove('active');
  current = n + 1;
  screens[current].classList.add('active');
}

function startUniverse() {
  const audio = document.getElementById("bgMusic");
  audio.volume = 0.4;
  audio.play().catch(e => console.log("Audio failed", e));
  go(0);
}

function celebrate() {
  confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#ff4d6d', '#f472b6'] });
  document.getElementById('final-heading').innerHTML = "Yay! See you tonight! ü•∞";
  document.getElementById('noBtn').style.display = 'none';
}

const noBtn = document.getElementById("noBtn");
const finalCard = document.getElementById("finalCard");
let hasMoved = false;

noBtn.addEventListener("mouseover", moveButton);
noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveButton(); });

function moveButton() {
  if(!hasMoved) { noBtn.style.position = 'absolute'; hasMoved = true; }
  const cardRect = finalCard.getBoundingClientRect();
  const btnRect = noBtn.getBoundingClientRect();
  const maxX = cardRect.width - btnRect.width - 20;
  const maxY = cardRect.height - btnRect.height - 20;
  noBtn.style.left = Math.random() * maxX + "px";
  noBtn.style.top = Math.random() * maxY + "px";
}
</script>

</body>
</html>
